<!DOCTYPE html>
<html>
<head>
    <title>Iris Classifier</title>
</head>
<body>
    <h2>Iris Flower Prediction</h2>
    <form id="irisForm">
        <label>Sepal Length:</label><input type="number" step="any" name="sepal_length" required><br>
        <label>Sepal Width:</label><input type="number" step="any" name="sepal_width" required><br>
        <label>Petal Length:</label><input type="number" step="any" name="petal_length" required><br>
        <label>Petal Width:</label><input type="number" step="any" name="petal_width" required><br>
        <button type="submit">Predict</button>
    </form>

    <h3 id="result"></h3>

    <script>
        document.getElementById("irisForm").addEventListener("submit", async function (e) {
            e.preventDefault();
            const form = e.target;
            const features = [
                parseFloat(form.sepal_length.value),
                parseFloat(form.sepal_width.value),
                parseFloat(form.petal_length.value),
                parseFloat(form.petal_width.value),
            ];

            const response = await fetch("/predict", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({ features }),
            });

            const result = await response.json();
            if (response.ok) {
                document.getElementById("result").textContent = `Predicted Class: ${result.class_name}`;
            } else {
                document.getElementById("result").textContent = `Error: ${result.error}`;
            }
        });
    </script>
</body>
</html>
